<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_51) on Mon Nov 10 13:38:08 EST 2014 -->
<title>DApplication</title>
<meta name="date" content="2014-11-10">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="DApplication";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev Class</li>
<li><a href="../../../../org/drupal/project/computing/DCommand.html" title="class in org.drupal.project.computing"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?org/drupal/project/computing/DApplication.html" target="_top">Frames</a></li>
<li><a href="DApplication.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.drupal.project.computing</div>
<h2 title="Class DApplication" class="title">Class DApplication</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>org.drupal.project.computing.DApplication</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>Direct Known Subclasses:</dt>
<dd><a href="../../../../org/drupal/project/computing/common/ComputingApplication.html" title="class in org.drupal.project.computing.common">ComputingApplication</a></dd>
</dl>
<hr>
<br>
<pre>public abstract class <span class="strong">DApplication</span>
extends java.lang.Object</pre>
<div class="block"><p>This is the application class. It integrates DSite, DConfig, DDatabase and a set of DCommand. Typically,
 a DApplication has one DSite, one DConfig, zero or one DDatabase. The DApplication is initialized with DConfig,
 then it creates a DSite (which is not aware of DConfig, because DConfig configs DApplication, where DSite is
 independent from the Application/Command structure and only deals with Drupal), and from DSite it can retrieve a list
 of DCommand and then execute them. DCommand can access DApplication in order to get DConfig etc. DSite doesn't have
 access to either DApplication or DConfig. DSite can generate zero or one DDatabase that links to Drupal db, although
 DApplication can have multiple DDatabase. </p>

 TODO: draw UML diagram

 <b>Additional thoughts:</b>

 It'll be nice to have "site" and "config" as "final". But that means they have to be set in constructors,
 and launchFromShell() would have to be static factory method, and then it'll increase complexity.

 This design combines DApplication and DLauncher. Pro: simple. Con: Can't use other launcher easily.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../../../../org/drupal/project/computing/DApplication.html#applicationName">applicationName</a></strong></code>
<div class="block">The name of the Application</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected java.util.Properties</code></td>
<td class="colLast"><code><strong><a href="../../../../org/drupal/project/computing/DApplication.html#commandMapping">commandMapping</a></strong></code>
<div class="block">The mapping of command name to DCommand class name.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected <a href="../../../../org/drupal/project/computing/DConfig.html" title="class in org.drupal.project.computing">DConfig</a></code></td>
<td class="colLast"><code><strong><a href="../../../../org/drupal/project/computing/DApplication.html#config">config</a></strong></code>
<div class="block">Default configurations for the Agent.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected java.util.logging.Logger</code></td>
<td class="colLast"><code><strong><a href="../../../../org/drupal/project/computing/DApplication.html#logger">logger</a></strong></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected <a href="../../../../org/drupal/project/computing/DSite.html" title="class in org.drupal.project.computing">DSite</a></code></td>
<td class="colLast"><code><strong><a href="../../../../org/drupal/project/computing/DApplication.html#site">site</a></strong></code>
<div class="block">Access to Drupal site.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../../../org/drupal/project/computing/DApplication.html#DApplication(java.lang.String)">DApplication</a></strong>(java.lang.String&nbsp;applicationName)</code>
<div class="block">Initialize connection to Drupal site too.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected java.util.Properties</code></td>
<td class="colLast"><code><strong><a href="../../../../org/drupal/project/computing/DApplication.html#buildCommandMapping()">buildCommandMapping</a></strong>()</code>
<div class="block">Retrieve the mapping from DRecord "command" name to a DCommand class.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected <a href="../../../../org/drupal/project/computing/DCommand.html" title="class in org.drupal.project.computing">DCommand</a></code></td>
<td class="colLast"><code><strong><a href="../../../../org/drupal/project/computing/DApplication.html#createCommand(java.lang.String)">createCommand</a></strong>(java.lang.String&nbsp;commandName)</code>
<div class="block">Create a DCommand based on commandName string.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected abstract java.util.Properties</code></td>
<td class="colLast"><code><strong><a href="../../../../org/drupal/project/computing/DApplication.html#declareCommandMapping()">declareCommandMapping</a></strong>()</code>
<div class="block">Build the default command mapping from code.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../../../../org/drupal/project/computing/DSite.html" title="class in org.drupal.project.computing">DSite</a></code></td>
<td class="colLast"><code><strong><a href="../../../../org/drupal/project/computing/DApplication.html#getSite()">getSite</a></strong>()</code>
<div class="block">Getter for DSite field, which is initialized in constructor with settings from config.properties.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../org/drupal/project/computing/DApplication.html#launch()">launch</a></strong>()</code>
<div class="block">Launch the application, and execute commands.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><strong><a href="../../../../org/drupal/project/computing/DApplication.html#launchSingleThread()">launchSingleThread</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><strong><a href="../../../../org/drupal/project/computing/DApplication.html#processRecord(org.drupal.project.computing.DRecord)">processRecord</a></strong>(<a href="../../../../org/drupal/project/computing/DRecord.html" title="class in org.drupal.project.computing">DRecord</a>&nbsp;record)</code>
<div class="block">This is the main execution point.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../../../../org/drupal/project/computing/DRecord.html" title="class in org.drupal.project.computing">DRecord</a></code></td>
<td class="colLast"><code><strong><a href="../../../../org/drupal/project/computing/DApplication.html#runOnce(org.drupal.project.computing.DRecord)">runOnce</a></strong>(<a href="../../../../org/drupal/project/computing/DRecord.html" title="class in org.drupal.project.computing">DRecord</a>&nbsp;record)</code>
<div class="block">Run a command based on the given record.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../org/drupal/project/computing/DApplication.html#setCommandMapping(java.lang.String, java.lang.String)">setCommandMapping</a></strong>(java.lang.String&nbsp;commandName,
                 java.lang.String&nbsp;className)</code>
<div class="block">Allow register command mapping ad-hoc.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../../../../org/drupal/project/computing/DApplication.html#toString()">toString</a></strong>()</code>&nbsp;</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="logger">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>logger</h4>
<pre>protected&nbsp;java.util.logging.Logger logger</pre>
</li>
</ul>
<a name="applicationName">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>applicationName</h4>
<pre>protected final&nbsp;java.lang.String applicationName</pre>
<div class="block">The name of the Application</div>
</li>
</ul>
<a name="site">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>site</h4>
<pre>protected&nbsp;<a href="../../../../org/drupal/project/computing/DSite.html" title="class in org.drupal.project.computing">DSite</a> site</pre>
<div class="block">Access to Drupal site.</div>
</li>
</ul>
<a name="commandMapping">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>commandMapping</h4>
<pre>protected&nbsp;java.util.Properties commandMapping</pre>
<div class="block">The mapping of command name to DCommand class name.</div>
</li>
</ul>
<a name="config">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>config</h4>
<pre>protected&nbsp;<a href="../../../../org/drupal/project/computing/DConfig.html" title="class in org.drupal.project.computing">DConfig</a> config</pre>
<div class="block">Default configurations for the Agent.</div>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="DApplication(java.lang.String)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>DApplication</h4>
<pre>public&nbsp;DApplication(java.lang.String&nbsp;applicationName)</pre>
<div class="block">Initialize connection to Drupal site too.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>applicationName</code> - </dd></dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="declareCommandMapping()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>declareCommandMapping</h4>
<pre>protected abstract&nbsp;java.util.Properties&nbsp;declareCommandMapping()</pre>
<div class="block">Build the default command mapping from code.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>A Properties object with key as DRecord "command" field, and value as DCommand class name.</dd></dl>
</li>
</ul>
<a name="launch()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>launch</h4>
<pre>public&nbsp;void&nbsp;launch()</pre>
<div class="block">Launch the application, and execute commands.</div>
</li>
</ul>
<a name="runOnce(org.drupal.project.computing.DRecord)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>runOnce</h4>
<pre>public&nbsp;<a href="../../../../org/drupal/project/computing/DRecord.html" title="class in org.drupal.project.computing">DRecord</a>&nbsp;runOnce(<a href="../../../../org/drupal/project/computing/DRecord.html" title="class in org.drupal.project.computing">DRecord</a>&nbsp;record)
                throws <a href="../../../../org/drupal/project/computing/exception/DSiteException.html" title="class in org.drupal.project.computing.exception">DSiteException</a></pre>
<div class="block">Run a command based on the given record.
 This is usually used as a programmatic entry to create a record and run it all at once.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>record</code> - Could be a newly created record or an existing record from Drupal. If record is new, create it in Drupal first.</dd>
<dt><span class="strong">Returns:</span></dt><dd>the record after execution.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../../../org/drupal/project/computing/exception/DSiteException.html" title="class in org.drupal.project.computing.exception">DSiteException</a></code></dd></dl>
</li>
</ul>
<a name="setCommandMapping(java.lang.String, java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setCommandMapping</h4>
<pre>public&nbsp;void&nbsp;setCommandMapping(java.lang.String&nbsp;commandName,
                     java.lang.String&nbsp;className)</pre>
<div class="block">Allow register command mapping ad-hoc.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>commandName</code> - </dd><dd><code>className</code> - </dd></dl>
</li>
</ul>
<a name="getSite()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getSite</h4>
<pre>public&nbsp;<a href="../../../../org/drupal/project/computing/DSite.html" title="class in org.drupal.project.computing">DSite</a>&nbsp;getSite()</pre>
<div class="block">Getter for DSite field, which is initialized in constructor with settings from config.properties.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>The Drupal site (DSite) which this application is associated with.</dd></dl>
</li>
</ul>
<a name="toString()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>toString</h4>
<pre>public&nbsp;java.lang.String&nbsp;toString()</pre>
<dl>
<dt><strong>Overrides:</strong></dt>
<dd><code>toString</code>&nbsp;in class&nbsp;<code>java.lang.Object</code></dd>
</dl>
</li>
</ul>
<a name="processRecord(org.drupal.project.computing.DRecord)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>processRecord</h4>
<pre>protected&nbsp;void&nbsp;processRecord(<a href="../../../../org/drupal/project/computing/DRecord.html" title="class in org.drupal.project.computing">DRecord</a>&nbsp;record)</pre>
<div class="block">This is the main execution point.
 Input: DRecord. Output: DRecord.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>record</code> - </dd></dl>
</li>
</ul>
<a name="createCommand(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>createCommand</h4>
<pre>protected&nbsp;<a href="../../../../org/drupal/project/computing/DCommand.html" title="class in org.drupal.project.computing">DCommand</a>&nbsp;createCommand(java.lang.String&nbsp;commandName)
                          throws java.lang.ClassNotFoundException,
                                 java.lang.IllegalAccessException,
                                 java.lang.InstantiationException</pre>
<div class="block">Create a DCommand based on commandName string.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>commandName</code> - </dd>
<dt><span class="strong">Returns:</span></dt><dd></dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>java.lang.ClassNotFoundException</code></dd>
<dd><code>java.lang.IllegalAccessException</code></dd>
<dd><code>java.lang.InstantiationException</code></dd></dl>
</li>
</ul>
<a name="launchSingleThread()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>launchSingleThread</h4>
<pre>protected&nbsp;void&nbsp;launchSingleThread()</pre>
</li>
</ul>
<a name="buildCommandMapping()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>buildCommandMapping</h4>
<pre>protected&nbsp;java.util.Properties&nbsp;buildCommandMapping()</pre>
<div class="block">Retrieve the mapping from DRecord "command" name to a DCommand class.
 1. Get all mappings from code.
 2. Get mappings from command.properties, which will override anything defined in #1.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>Command mapping with the key as DRecord "command" field, and value as DCommand class name.</dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev Class</li>
<li><a href="../../../../org/drupal/project/computing/DCommand.html" title="class in org.drupal.project.computing"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?org/drupal/project/computing/DApplication.html" target="_top">Frames</a></li>
<li><a href="DApplication.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
